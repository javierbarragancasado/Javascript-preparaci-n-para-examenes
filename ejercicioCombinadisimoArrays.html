<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        const productos = [
    { nombre: "Manzana", precio: 1.5, categoria: "Fruta" },
    { nombre: "Pan", precio: 0.8, categoria: "Panadería" },
    { nombre: "Leche", precio: 1.2, categoria: "Lácteos" },
    { nombre: "Café", precio: 3.5, categoria: "Bebidas" },
    { nombre: "Queso", precio: 2.5, categoria: "Lácteos" },
    { nombre: "Carne", precio: 5.0, categoria: "Carnes" },
    { nombre: "Chocolate", precio: 2.0, categoria: "Dulces" },
    { nombre: "Plátano", precio: 1.3, categoria: "Fruta" },
    { nombre: "Galletas", precio: 1.8, categoria: "Dulces" },
    { nombre: "Té", precio: 2.2, categoria: "Bebidas" }
];

const nuevosProductos = [
    { nombre: "Tarta de Queso", precio: 3.0, categoria: "Postres" },
    { nombre: "Jugo de Naranja", precio: 1.5, categoria: "Bebidas" },
    { nombre: "Cereales", precio: 2.2, categoria: "Desayunos" },
    { nombre: "Helado de Vainilla", precio: 2.8, categoria: "Postres" },
    { nombre: "Galletas de Chocolate", precio: 1.8, categoria: "Dulces" }
];

productos.forEach(producto =>{
    document.write(`Nombre del producto es :  <strong>${producto.nombre}</strong>   y su precio es :  <strong>${producto.precio}<strong> <br><br>`);
});

let arrayMap=productos.map(productos=>("<br>"+productos.precio*2));
document.write(` Listado de precios de los productos: ${arrayMap}`);

let arrayFiltrado=productos.filter(productos=>productos.precio>2);
document.write(`<br><br>Los productos que cuestan más de dos pablos son: `);
arrayFiltrado.forEach(productos=>{
    document.write(`<br><br> Nombre del producto : ${productos.nombre} y el precio es : ${productos.precio}`);
});

let arrayTotalPrecio=productos.reduce((total,producto)=>total+producto.precio,0);
document.write(`<br><br>El total del precio de todos los productos que hay en el array, sumados, asciende a ${arrayTotalPrecio} eurazos`);

let ObjetoFinder=productos.find(productos=>productos.precio>3); //productos.find no devuelve un array, sino un objeto. Así que podemos directamente entrar en sus propiedades. 
 if (ObjetoFinder) {
            document.write(`<br><br>El primer producto que tiene un precio por encima de 3 pablos es : ${ObjetoFinder.nombre} con un precio de ${ObjetoFinder.precio}€`);
        } else {
            document.write("<br><br>No se encontró ningún producto con un precio superior a 3 pablos.");
        }
// ✅ Verificamos si al menos un producto cuesta menos de 1

//Ojo, some() devuelve un booleano, es decir, true o false, no se pueden usar ni forEach ni acceder a las propiedades del objeto, porque no es un objeto.
let arraySomeado = productos.some(producto => producto.precio < 1);

document.write("<br><br>");
if (arraySomeado) {
    document.write(`Hemos encontrado al menos un producto que cuesta menos de 1 euro.`);
} else {
    document.write(`No hemos encontrado ningún producto que cueste menos de 1 euro.`);
}

document.write("<br><br>");

//Every también devuelve true o false.
let arrayEvery=productos.every(productos=>productos.precio>0);
if(arrayEvery){
    document.write(`Ou yeah! Efectivamente, todos los productos están por encima de 0€`);
}else{
    document.write(`Me temo que al menos uno de los productos tiene un precio de 0€ o inferior, lo cual es un error que hay que subsanar`);
}
document.write("<br><br>");
let arraySorteado=productos.sort((a,b)=>a.precio-b.precio);

document.write(`<br><br> AQUÍ SE MUESTRA EL ARRAY CON LOS PRECIOS ORDENADOS`);
arraySorteado.forEach(productos=>{
    document.write(`<br><br>Nombre del producto: ${productos.nombre} y su precio es : ${productos.precio}`);
});

document.write("<br><br>");
nuevoArrayConcatenado=productos.concat(nuevosProductos);
nuevoArrayConcatenado.forEach(nuevoArray=>{
    document.write(`<br><br>${nuevoArray.nombre} ${nuevoArray.precio} ${nuevoArray.categoria}`);
});
document.write("<br><br>");

const NACordenado=nuevoArrayConcatenado.sort((a,b)=>a.categoria.localeCompare(b.categoria,'es'));
NACordenado.forEach(arrayOrdenado=>{
    document.write(`<br><br>La categoría del producto es: ${arrayOrdenado.categoria}, su nombre es : ${arrayOrdenado.nombre} y su precio es ${arrayOrdenado.precio} `);
});

document.write("<br><br>");

const arraySlice=productos.filter(productos=>productos.categoria==='Dulces').slice();
document.write('Lista de productos que pertenecen a la categoría DULCES');
arraySlice.forEach(productos=>{

    document.write(`<br><br>Nombre : ${productos.nombre} || Precio: ${productos.precio} || Categoría: Obviamente ${productos.categoria}`);
});

const indiceLeche=productos.findIndex(productos=>productos.nombre==='Leche');
// ✅ Si existe, lo reemplazamos por 'Yogurt'
if (indiceLeche !== -1) {
    productos.splice(indiceLeche, 1, { nombre: "Yogurt", precio: 1.2, categoria: "Lácteos" });
}

document.write("<h3>Productos después de reemplazar 'Leche' por 'Yogurt':</h3>");
productos.forEach(producto => {
    document.write(`<p>${producto.nombre} - ${producto.precio}€</p>`);
});




/*✅ 🚀 Objetivos del Ejercicio:

    Recorrer todos los productos y mostrar su nombre y precio (forEach).✅

    Duplicar el precio de todos los productos y guardar los nuevos precios en otro array (map).✅

    Filtrar solo los productos que cuestan más de 2€ (filter).✅

    Calcular el precio total de todos los productos (reduce).✅

    Encontrar el primer producto que cuesta más de 3€ (find).✅

    Verificar si hay algún producto que cuesta menos de 1€ (some).✅

    Verificar si todos los productos cuestan más de 0€ (every).✅


    Ordenar los productos de menor a mayor precio (sort).✅

    Combinar los productos actuales con un nuevo array de productos (concat).✅

    Extraer solo los productos de la categoría 'Dulces' (slice).✅

    Eliminar el producto 'Leche' y reemplazarlo por 'Yogurt' (splice).✅
    
    push() - Añadir elementos al final del array.

    pop() - Eliminar el último elemento.

    unshift() - Añadir elementos al inicio.

    shift() - Eliminar el primer elemento.

    delete - Eliminar un elemento dejando undefined.

    reverse() - Invertir el array.

    join() - Convertir el array en una cadena de texto.

    toString() - Convertir el array a texto (similar a join).

    findIndex() - Buscar la posición de un elemento.*/
    </script>
</body>
</html>